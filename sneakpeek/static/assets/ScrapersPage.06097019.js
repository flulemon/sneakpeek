import{a as _}from"./QList.7f24c43e.js";import{_ as n,H as c,I as p,a6 as g,J as a,K as i,L as l,Q as y,S as b,R as v}from"./index.422cc3a0.js";import{Q as w,a as Q,b as S}from"./QPage.6206ab40.js";import{P as x,Q as s,a as P}from"./PriorityChip.61343a15.js";import{q as $,r as C}from"./api.8025d512.js";const{capitalize:V}=$,k={name:"ScheduleChip",props:["value"],data(){return{label:"Unknown"}},created(){this.label=this.value.split("_").map(V).join(" ")}};function q(e,t,d,u,o,f){return c(),p(w,g({label:o.label},e.$attrs),null,16,["label"])}var z=n(k,[["render",q]]);const B={components:{PriorityChip:x,ScheduleChip:z},name:"ScrapersPage",data(){return{loading:!1,error:!1,columns:[{name:"id",label:"ID",field:"id",align:"left"},{name:"name",label:"Name",field:"name",align:"left"},{name:"schedule",label:"Schedule",field:"schedule",align:"center"},{name:"priority",label:"Priority",field:"schedule_priority",align:"center"},{name:"actions",label:"Actions",field:e=>e,align:"right"}],rows:[],filter:""}},created(){this.filter=this.$route.query.f||"",this.loading=!0,C().then(e=>this.rows=e).catch(e=>this.error=e).finally(()=>this.loading=!1)},watch:{filter(e){e?this.$router.replace({query:{f:e}}):this.$router.replace({query:{}})}}},I=v("div",{class:"text-h6"},"Scrapers",-1);function N(e,t,d,u,o,f){const h=i("priority-chip"),m=i("schedule-chip");return c(),p(Q,{class:"flex flex-center",style:{width:"100%"}},{default:a(()=>[l(P,{rows:o.rows,columns:o.columns,"row-key":"id",style:{width:"100%",height:"100vh"},"virtual-scroll":"","hide-bottom":"",loading:o.loading,"rows-per-page-options":[0],filter:o.filter},{top:a(()=>[I,l(_),l(S,{dense:"",color:"primary",style:{width:"300px"},modelValue:o.filter,"onUpdate:modelValue":t[0]||(t[0]=r=>o.filter=r),placeholder:"Search...",clearable:""},{prepend:a(()=>[l(y,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-priority":a(r=>[l(s,{props:r},{default:a(()=>[l(h,{value:r.value,size:"sm"},null,8,["value"])]),_:2},1032,["props"])]),"body-cell-schedule":a(r=>[l(s,{props:r},{default:a(()=>[l(m,{size:"sm",color:"primary","text-color":"white",value:r.value},null,8,["value"])]),_:2},1032,["props"])]),"body-cell-actions":a(r=>[l(s,{props:r},{default:a(()=>[l(b,{flat:"",round:"",icon:"fa-solid fa-edit",size:"sm",to:e.$router.resolve({name:"ScraperPage",params:{id:r.value.id}})},null,8,["to"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading","filter"])]),_:1})}var H=n(B,[["render",N]]);export{H as default};
